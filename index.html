<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kaun Banega IT Champion ‚Äì ULTRA Edition (Mobile Friendly)</title>
<style>
*{box-sizing:border-box}
body{font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#1a2a6c,#b21f1f,#fdbb2d);color:#fff;text-align:center;margin:0;padding:10px}
h1{margin:10px 0;font-size:22px}
.container{width:100%;max-width:700px;margin:auto;background:rgba(0,0,0,.85);padding:15px;border-radius:12px}
select,button,input{width:100%;padding:12px;margin:8px 0;font-size:16px;border-radius:8px;border:none}
button{cursor:pointer;background:#00c853;color:#000;font-weight:bold}
button:hover{background:#69f0ae}
.option{background:#1e90ff;margin:8px 0;padding:14px;border-radius:8px;cursor:pointer;font-size:15px}
.option:hover{background:#63b3ff}
.hidden{display:none}
.topbar{display:flex;flex-direction:column;gap:8px}
.lifelines{display:flex;gap:6px;flex-wrap:wrap}
.lifelines button{flex:1;background:#ff9800;color:#000;font-size:14px;padding:10px}
.lifelines button.used{background:#555;color:#fff}
.timer{color:#ff5252;font-size:18px;font-weight:bold}
.score{font-size:16px}
.teacher{margin-top:10px;border-top:1px dashed #777;padding-top:10px}
.certificate{border:3px double #fff;padding:15px;margin-top:15px}

.correct{
background:#00c853 !important;
color:#000;
}

.wrong{
background:#ff5252 !important;
color:#fff;
}

.logo img{
width:120px;
margin-bottom:10px;
}

.header{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
}

.header-logo{
width:60px;
}

.footer{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#000;
color:#fff;
padding:8px;
font-size:14px;
}


/* Desktop Enhancement */
@media(min-width:768px){
 h1{font-size:26px}
 .topbar{flex-direction:row;justify-content:space-between;align-items:center}
 select,button,input{width:auto}
 .option{font-size:16px}
}
</style>
</head>
<body>

<div class="header">
<img src="logo.png" class="header-logo">
<h1>Kaun Banega IT Champion</h1>
</div>

<div class="container">

<div id="startScreen">
<p><b>Student Name</b></p>
<input id="studentName" placeholder="Enter student name">
<p><b>Select Class</b></p>
<select id="classSelect">
<option value="10">Class 10</option>
 <option value="10A">Board 10</option>
<option value="11">Class 11</option>
<option value="12">Class 12</option>
</select>
<button onclick="startGame()">Start Quiz</button>

<div>
üëâ INSTRUCTIONS:<br>
üî¢ Total Questions: 150<br>
‚è±Ô∏è Time per Question: 30 sec<br>
‚≠ê Correct Answer: +10 Points<br>
‚ùå Wrong Answer: 0 Point<br>
üÜò Lifelines Allowed: 50:50 | Skip | Audience Poll<br>
</div>
</div>

<div id="gameScreen" class="hidden">
<div class="topbar">
<div class="lifelines">
<button id="ll5050" onclick="use5050()">50:50</button>
<button id="llSkip" onclick="skipQ()">Skip</button>
<button id="llPoll" onclick="audiencePoll()">Audience Poll</button>
</div>
<div class="timer">‚è± <span id="time">30</span>s</div>
<div class="score">Points: <span id="points">0</span></div>
</div>

<div style="margin-bottom:8px;font-weight:bold;">
Question: <span id="qNumber"></span>
</div>

<h3 id="question"></h3>
<div id="options"></div>
<div class="teacher">

<button onclick="forceNext()">Next</button>
<button onclick="endGame()">End</button>
</div>
</div>

<div id="endScreen" class="hidden">
<h2>üèÜ Result</h2>
<p>Name: <b><span id="resName"></span></b></p>
<p>Total Points: <b><span id="finalPoints"></span></b></p>
<p id="level"></p>
<button onclick="downloadResult()">Download Result</button>
<button onclick="showCertificate()">View Certificate</button>
<button onclick="location.reload()">New Student</button>

<div id="cert" class="certificate hidden">
<img src="logo.png" width="100">
<h2>üéì Certificate</h2>
<p>This is to certify that</p>
<h3 id="certName"></h3>
<p>has participated in</p>
<p><b>Kaun Banega IT Champion</b></p>
<p id="certLevel"></p>
<p>Date: <span id="certDate"></span></p>
</div>
</div>
</div>
<script src="questions.js"></script>
<script>
let currentQuestion=0,score=0,timer,timeLeft=30,questions=[];
let used5050=false,usedSkip=false;
let student='';

function shuffleArray(array){
for(let i=array.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
return array;
}

function startGame(){
student=document.getElementById('studentName').value||'Student';

let selectedClass=document.getElementById('classSelect').value;
questions=[...questionBank[selectedClass]]; // copy array
shuffleArray(questions); // random order
questions=questions.slice(0,150); // max 150 questions
currentQuestion=0;
score=0;


document.getElementById('startScreen').classList.add('hidden');
document.getElementById('gameScreen').classList.remove('hidden');
showQuestion();startTimer();}

function showQuestion(){
if(currentQuestion>=questions.length){endGame();return;}

document.getElementById('qNumber').innerText=(currentQuestion+1)+"/"+questions.length;

const q=questions[currentQuestion];
document.getElementById('question').innerText=q.q;
const o=document.getElementById('options');o.innerHTML='';
q.options.forEach((op,i)=>{
const d=document.createElement('div');
d.className='option';
d.innerText=op;
d.onclick=()=>checkAnswer(i);
o.appendChild(d);});
resetTimer();}

function checkAnswer(sel){
clearInterval(timer);

const options = document.querySelectorAll('.option');
const correctIndex = questions[currentQuestion].ans;

// ‡§∏‡§≠‡•Ä options disable ‡§ï‡§∞‡•á‡§Ç
options.forEach(op => op.onclick = null);

// ‡§∏‡§π‡•Ä answer ‡§ï‡•ã green ‡§ï‡§∞‡•á‡§Ç
options[correctIndex].classList.add('correct');

// ‡§Ö‡§ó‡§∞ ‡§ó‡§≤‡§§ ‡§ö‡•Å‡§®‡§æ ‡§π‡•à ‡§§‡•ã ‡§â‡§∏‡•á red ‡§ï‡§∞‡•á‡§Ç
if(sel !== correctIndex){
    options[sel].classList.add('wrong');
} else {
    score += 10;
}

document.getElementById('points').innerText = score;

// 1.5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ next question
setTimeout(()=>{
    currentQuestion++;
    showQuestion();
    startTimer();
},1500);
}

function startTimer(){timer=setInterval(()=>{
timeLeft--;
document.getElementById('time').innerText=timeLeft;
if(timeLeft<=0){clearInterval(timer);currentQuestion++;showQuestion();startTimer();}},1000)}

function resetTimer(){timeLeft=30;document.getElementById('time').innerText=timeLeft}

function use5050(){if(used5050)return;used5050=true;
document.getElementById('ll5050').classList.add('used');
const q=questions[currentQuestion];let r=0;
document.querySelectorAll('.option').forEach((op,i)=>{
if(i!==q.ans&&r<2){op.style.display='none';r++;}})}

function skipQ(){if(usedSkip)return;usedSkip=true;
document.getElementById('llSkip').classList.add('used');
clearInterval(timer);currentQuestion++;showQuestion();startTimer()}

function audiencePoll(){document.getElementById('llPoll').classList.add('used');
const c=questions[currentQuestion].ans;
let p=['A','B','C','D'].map((l,i)=>i===c?Math.floor(Math.random()*30+40):Math.floor(Math.random()*20));
alert('Poll Result:\nA:'+p[0]+'% B:'+p[1]+'% C:'+p[2]+'% D:'+p[3]+'%')}

function forceNext(){clearInterval(timer);currentQuestion++;showQuestion();startTimer()}

function endGame(){
document.getElementById('gameScreen').classList.add('hidden');
document.getElementById('endScreen').classList.remove('hidden');
document.getElementById('finalPoints').innerText=score;
document.getElementById('resName').innerText=student;
let l='Needs Practice';if(score>=600)l='Skilled Performer';if(score>=900)l='IT Champion';
document.getElementById('level').innerText='Performance Level: '+l;
let last = getLastPerformance(student);
if(last){
    let diff = score - last.score;
    document.getElementById('level').innerHTML += 
    "<br>Last Score: " + last.score + 
    "<br>Improvement: " + (diff >= 0 ? "+"+diff : diff);
}
document.getElementById('certLevel').innerText=l

// Save performance
let records = JSON.parse(localStorage.getItem("quizRecords")) || [];

records.push({
    name: student,
    score: score,
    date: new Date().toLocaleString()
});

localStorage.setItem("quizRecords", JSON.stringify(records));

}

function getLastPerformance(name){
let records = JSON.parse(localStorage.getItem("quizRecords")) || [];
let filtered = records.filter(r => r.name === name);
return filtered.length > 1 ? filtered[filtered.length-2] : null;
}

function downloadResult(){
let csv='Name,Points,Level\n'+student+','+score+','+document.getElementById('level').innerText;
const a=document.createElement('a');
a.href='data:text/csv;charset=utf-8,'+encodeURIComponent(csv);
a.download='result_'+student+'.csv';a.click()}

function showCertificate(){
document.getElementById('cert').classList.remove('hidden');
document.getElementById('certName').innerText=student;
document.getElementById('certDate').innerText=new Date().toLocaleDateString()}
</script>
<footer class="footer">
¬© 2026 Developed By : <b>Gopi Ballabh</b>
</footer>
</body>

</html>



